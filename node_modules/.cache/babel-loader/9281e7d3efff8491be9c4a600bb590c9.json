{"ast":null,"code":"//var yvalues;\n//var size_index = 0;\nexport const hoveredSunData = {\n  mouseOver: false,\n  value: null\n};\nlet temperatureData;\nlet currentSize = 0;\nlet hoveredSun = null;\nlet sunObject = null;\n\nclass Sun {\n  /**\r\n   * Constructor for sun\r\n   *\r\n   * @param {*} p p5 ptr\r\n   */\n  constructor(p) {\n    // class for sun object\n    this.x = p.windowWidth / 2;\n    this.y = p.windowHeight / 2;\n    this.size = currentSize * 100;\n    /**\r\n     * Display sun on sketch\r\n     */\n\n    this.display = function (currentDate) {\n      let color = changeSunColor(currentDate, {\n        r: 232,\n        g: 152,\n        b: 98\n      }, {\n        r: 200,\n        g: 100,\n        b: 90\n      });\n      this.size = currentSize * 100;\n      p.fill(color.r, color.g, color.b);\n      p.ellipse(this.x, this.y, this.size);\n\n      if (hoveredSunData.mouseOver) {\n        p.fill(225, 225, 0, 70);\n        p.ellipse(this.x, this.y, this.size + 20);\n      }\n    };\n    /**\r\n     * Behavior for sun movement\r\n     */\n\n\n    this.move = function () {\n      // check if mouse is pressed and within range of sun\n      if (p.mouseIsPressed && p.dist(p.mouseX, p.mouseY, this.x, this.y) < this.size / 2 + 10) {\n        //get the sun above the ocean\n        if (p.mouseY < p.height / 2) {\n          hoveredSunData.mouseOver = true;\n          hoveredSun = this;\n        }\n      }\n    };\n  }\n\n}\n\nexport function resizeSun(p) {\n  sunObject.x = p.windowWidth / 2;\n  sunObject.y = p.windowHeight / 2;\n}\nexport function setUpSun(p, data, currentDate) {\n  temperatureData = data; // temperature data might be null here\n\n  calcSun(currentDate);\n  sunObject = new Sun(p);\n}\nexport function drawSun(p, data, currentDate) {\n  if (data && !temperatureData) {\n    temperatureData = data;\n  }\n\n  calcSun(currentDate);\n  createSun(p, currentDate);\n}\n\nfunction calcSun(currentDate) {\n  //get current date based on scroller and year\n  if (temperatureData) {\n    var currentYear = currentDate.getFullYear();\n    var index = (currentYear - 1880) * temperatureData.length / 140 - 100;\n    var i = Math.round(index);\n    var average = 0;\n\n    for (var count = 0; count < 100; count++) {\n      average = average + parseFloat(temperatureData[i + count].station);\n    }\n\n    currentSize = average / 50 + 2;\n    hoveredSunData.value = Number.parseFloat(currentSize.toFixed(2) - 2).toPrecision(4);\n  }\n}\n\nfunction createSun(p, currentDate) {\n  if (temperatureData) {\n    if (!hoveredSunData.mouseOver) {\n      sunObject.move();\n    } else if (p.mouseY > p.height / 2) {\n      hoveredSunData.mouseOver = false;\n    } else if (p.dist(p.mouseX, p.mouseY, hoveredSun.x, hoveredSun.y) > hoveredSun.size / 2 + 20) {\n      hoveredSunData.mouseOver = false;\n    }\n\n    sunObject.display(currentDate);\n  }\n}\n\nfunction changeSunColor(currentDate, startColor, endColor) {\n  var currentYear = currentDate.getFullYear();\n  var index = (currentYear - 1880) * temperatureData.length / 140 - 100;\n  var i = Math.round(index);\n  var average = 0;\n\n  for (var count = 0; count < 100; count++) {\n    average = average + parseFloat(temperatureData[i + count].station);\n  } //smallest is 0 largest is 115\n\n\n  average = average + 3;\n  var rGap = (startColor.r - endColor.r) / 115;\n  var gGap = (startColor.g - endColor.g) / 115;\n  var bGap = (startColor.b - endColor.b) / 115; // code body moved outside (above) statement block\n\n  var rIndex = startColor.r - (rGap * average | 0);\n  var gIndex = startColor.g - (gGap * average | 0);\n  var bIndex = startColor.b - (bGap * average | 0);\n  return {\n    r: rIndex,\n    g: gIndex,\n    b: bIndex\n  };\n}","map":{"version":3,"sources":["C:/Users/kuent/Documents/FinishDipshit/Creative/Ocean-Weather-Visualization/src/sketches/sun.js"],"names":["hoveredSunData","mouseOver","value","temperatureData","currentSize","hoveredSun","sunObject","Sun","constructor","p","x","windowWidth","y","windowHeight","size","display","currentDate","color","changeSunColor","r","g","b","fill","ellipse","move","mouseIsPressed","dist","mouseX","mouseY","height","resizeSun","setUpSun","data","calcSun","drawSun","createSun","currentYear","getFullYear","index","length","i","Math","round","average","count","parseFloat","station","Number","toFixed","toPrecision","startColor","endColor","rGap","gGap","bGap","rIndex","gIndex","bIndex"],"mappings":"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","sourcesContent":["//var yvalues;\r\n//var size_index = 0;\r\nexport const hoveredSunData = { mouseOver: false, value: null };\r\nlet temperatureData;\r\nlet currentSize = 0;\r\nlet hoveredSun = null;\r\nlet sunObject = null;\r\n\r\nclass Sun {\r\n    /**\r\n     * Constructor for sun\r\n     *\r\n     * @param {*} p p5 ptr\r\n     */\r\n    constructor(p) {\r\n        // class for sun object\r\n        this.x = p.windowWidth / 2;\r\n        this.y = p.windowHeight / 2;\r\n        this.size = currentSize * 100;\r\n        \r\n        /**\r\n         * Display sun on sketch\r\n         */\r\n        this.display = function (currentDate) {\r\n            let color = changeSunColor(currentDate, { r: 232, g: 152, b: 98 }, { r: 200, g: 100, b: 90 });\r\n            this.size = currentSize * 100;\r\n            p.fill(color.r, color.g, color.b);\r\n            p.ellipse(this.x, this.y, this.size);\r\n            if (hoveredSunData.mouseOver) {\r\n                p.fill(225, 225, 0, 70);\r\n                p.ellipse(this.x, this.y, this.size + 20);\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Behavior for sun movement\r\n         */\r\n        this.move = function () {\r\n            // check if mouse is pressed and within range of sun\r\n            if (p.mouseIsPressed && p.dist(p.mouseX, p.mouseY, this.x, this.y) < this.size / 2 + 10) {\r\n                //get the sun above the ocean\r\n                if (p.mouseY < p.height / 2) {\r\n                    hoveredSunData.mouseOver = true;\r\n                    hoveredSun = this;\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n\r\nexport function resizeSun(p) {\r\n    sunObject.x = p.windowWidth / 2;\r\n    sunObject.y = p.windowHeight / 2;\r\n}\r\n\r\nexport function setUpSun(p, data, currentDate) {\r\n    temperatureData = data; // temperature data might be null here\r\n    calcSun(currentDate);\r\n    sunObject = new Sun(p);\r\n}\r\n\r\nexport function drawSun(p, data, currentDate) {\r\n    if (data && !temperatureData) {\r\n        temperatureData = data;\r\n    }\r\n    calcSun(currentDate);\r\n    createSun(p, currentDate);\r\n}\r\n\r\nfunction calcSun(currentDate) {\r\n    //get current date based on scroller and year\r\n    if (temperatureData) {\r\n        var currentYear = currentDate.getFullYear();\r\n        var index = ((currentYear - 1880) * temperatureData.length) / 140 - 100;\r\n    \r\n        var i = Math.round(index);\r\n        var average = 0;\r\n        for (var count = 0; count < 100; count++) {\r\n            average = average + parseFloat(temperatureData[i + count].station);\r\n        }\r\n    \r\n        currentSize = average / 50 + 2;\r\n        hoveredSunData.value = Number.parseFloat(currentSize.toFixed(2) - 2).toPrecision(4);\r\n    }\r\n\r\n}\r\n\r\nfunction createSun(p, currentDate) {\r\n    if (temperatureData) {\r\n        if (!hoveredSunData.mouseOver) {\r\n            sunObject.move();\r\n        } else if (p.mouseY > p.height / 2) {\r\n            hoveredSunData.mouseOver = false;\r\n        } else if (p.dist(p.mouseX, p.mouseY, hoveredSun.x, hoveredSun.y) > hoveredSun.size / 2 + 20) {\r\n            hoveredSunData.mouseOver = false;\r\n        }\r\n        sunObject.display(currentDate);\r\n    }\r\n}\r\n\r\nfunction changeSunColor(currentDate, startColor, endColor) {\r\n    var currentYear = currentDate.getFullYear();\r\n\r\n    var index = ((currentYear - 1880) * temperatureData.length) / 140 - 100;\r\n\r\n    var i = Math.round(index);\r\n    var average = 0;\r\n    for (var count = 0; count < 100; count++) {\r\n        average = average + parseFloat(temperatureData[i + count].station);\r\n    }\r\n    \r\n    //smallest is 0 largest is 115\r\n    average = average + 3;\r\n\r\n    var rGap = (startColor.r - endColor.r) / 115;\r\n    var gGap = (startColor.g - endColor.g) / 115;\r\n    var bGap = (startColor.b - endColor.b) / 115;\r\n\r\n    // code body moved outside (above) statement block\r\n    var rIndex = startColor.r - ((rGap * average) | 0);\r\n    var gIndex = startColor.g - ((gGap * average) | 0);\r\n    var bIndex = startColor.b - ((bGap * average) | 0);\r\n\r\n    return { r: rIndex, g: gIndex, b: bIndex };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}