{"ast":null,"code":"// TODO: including these in blob-util.ts causes typedoc to generate docs for them,\n// even with --excludePrivate ¯\\_(ツ)_/¯\n\n/** @private */\nfunction loadImage(src, crossOrigin) {\n  return new Promise(function (resolve, reject) {\n    var img = new Image();\n\n    if (crossOrigin) {\n      img.crossOrigin = crossOrigin;\n    }\n\n    img.onload = function () {\n      resolve(img);\n    };\n\n    img.onerror = reject;\n    img.src = src;\n  });\n}\n/** @private */\n\n\nfunction imgToCanvas(img) {\n  var canvas = document.createElement('canvas');\n  canvas.width = img.width;\n  canvas.height = img.height; // copy the image contents to the canvas\n\n  var context = canvas.getContext('2d');\n  context.drawImage(img, 0, 0, img.width, img.height, 0, 0, img.width, img.height);\n  return canvas;\n}\n/* global Promise, Image, Blob, FileReader, atob, btoa,\n   BlobBuilder, MSBlobBuilder, MozBlobBuilder, WebKitBlobBuilder, webkitURL */\n\n/**\n * Shim for\n * [`new Blob()`](https://developer.mozilla.org/en-US/docs/Web/API/Blob.Blob)\n * to support\n * [older browsers that use the deprecated `BlobBuilder` API](http://caniuse.com/blob).\n *\n * Example:\n *\n * ```js\n * var myBlob = blobUtil.createBlob(['hello world'], {type: 'text/plain'});\n * ```\n *\n * @param parts - content of the Blob\n * @param properties - usually `{type: myContentType}`,\n *                           you can also pass a string for the content type\n * @returns Blob\n */\n\n\nfunction createBlob(parts, properties) {\n  parts = parts || [];\n  properties = properties || {};\n\n  if (typeof properties === 'string') {\n    properties = {\n      type: properties\n    }; // infer content type\n  }\n\n  try {\n    return new Blob(parts, properties);\n  } catch (e) {\n    if (e.name !== 'TypeError') {\n      throw e;\n    }\n\n    var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder : typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : WebKitBlobBuilder;\n    var builder = new Builder();\n\n    for (var i = 0; i < parts.length; i += 1) {\n      builder.append(parts[i]);\n    }\n\n    return builder.getBlob(properties.type);\n  }\n}\n/**\n * Shim for\n * [`URL.createObjectURL()`](https://developer.mozilla.org/en-US/docs/Web/API/URL.createObjectURL)\n * to support browsers that only have the prefixed\n * `webkitURL` (e.g. Android <4.4).\n *\n * Example:\n *\n * ```js\n * var myUrl = blobUtil.createObjectURL(blob);\n * ```\n *\n * @param blob\n * @returns url\n */\n\n\nfunction createObjectURL(blob) {\n  return (typeof URL !== 'undefined' ? URL : webkitURL).createObjectURL(blob);\n}\n/**\n * Shim for\n * [`URL.revokeObjectURL()`](https://developer.mozilla.org/en-US/docs/Web/API/URL.revokeObjectURL)\n * to support browsers that only have the prefixed\n * `webkitURL` (e.g. Android <4.4).\n *\n * Example:\n *\n * ```js\n * blobUtil.revokeObjectURL(myUrl);\n * ```\n *\n * @param url\n */\n\n\nfunction revokeObjectURL(url) {\n  return (typeof URL !== 'undefined' ? URL : webkitURL).revokeObjectURL(url);\n}\n/**\n * Convert a `Blob` to a binary string.\n *\n * Example:\n *\n * ```js\n * blobUtil.blobToBinaryString(blob).then(function (binaryString) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the binary string\n */\n\n\nfunction blobToBinaryString(blob) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n    var hasBinaryString = typeof reader.readAsBinaryString === 'function';\n\n    reader.onloadend = function () {\n      var result = reader.result || '';\n\n      if (hasBinaryString) {\n        return resolve(result);\n      }\n\n      resolve(arrayBufferToBinaryString(result));\n    };\n\n    reader.onerror = reject;\n\n    if (hasBinaryString) {\n      reader.readAsBinaryString(blob);\n    } else {\n      reader.readAsArrayBuffer(blob);\n    }\n  });\n}\n/**\n * Convert a base64-encoded string to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.base64StringToBlob(base64String);\n * ```\n * @param base64 - base64-encoded string\n * @param type - the content type (optional)\n * @returns Blob\n */\n\n\nfunction base64StringToBlob(base64, type) {\n  var parts = [binaryStringToArrayBuffer(atob(base64))];\n  return type ? createBlob(parts, {\n    type: type\n  }) : createBlob(parts);\n}\n/**\n * Convert a binary string to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.binaryStringToBlob(binaryString);\n * ```\n *\n * @param binary - binary string\n * @param type - the content type (optional)\n * @returns Blob\n */\n\n\nfunction binaryStringToBlob(binary, type) {\n  return base64StringToBlob(btoa(binary), type);\n}\n/**\n * Convert a `Blob` to a binary string.\n *\n * Example:\n *\n * ```js\n * blobUtil.blobToBase64String(blob).then(function (base64String) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the binary string\n */\n\n\nfunction blobToBase64String(blob) {\n  return blobToBinaryString(blob).then(btoa);\n}\n/**\n * Convert a data URL string\n * (e.g. `'data:image/png;base64,iVBORw0KG...'`)\n * to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.dataURLToBlob(dataURL);\n * ```\n *\n * @param dataURL - dataURL-encoded string\n * @returns Blob\n */\n\n\nfunction dataURLToBlob(dataURL) {\n  var type = dataURL.match(/data:([^;]+)/)[1];\n  var base64 = dataURL.replace(/^[^,]+,/, '');\n  var buff = binaryStringToArrayBuffer(atob(base64));\n  return createBlob([buff], {\n    type: type\n  });\n}\n/**\n * Convert a `Blob` to a data URL string\n * (e.g. `'data:image/png;base64,iVBORw0KG...'`).\n *\n * Example:\n *\n * ```js\n * var dataURL = blobUtil.blobToDataURL(blob);\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the data URL string\n */\n\n\nfunction blobToDataURL(blob) {\n  return blobToBase64String(blob).then(function (base64String) {\n    return 'data:' + blob.type + ';base64,' + base64String;\n  });\n}\n/**\n * Convert an image's `src` URL to a data URL by loading the image and painting\n * it to a `canvas`.\n *\n * Note: this will coerce the image to the desired content type, and it\n * will only paint the first frame of an animated GIF.\n *\n * Examples:\n *\n * ```js\n * blobUtil.imgSrcToDataURL('http://mysite.com/img.png').then(function (dataURL) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * ```js\n * blobUtil.imgSrcToDataURL('http://some-other-site.com/img.jpg', 'image/jpeg',\n *                          'Anonymous', 1.0).then(function (dataURL) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param src - image src\n * @param type - the content type (optional, defaults to 'image/png')\n * @param crossOrigin - for CORS-enabled images, set this to\n *                                         'Anonymous' to avoid \"tainted canvas\" errors\n * @param quality - a number between 0 and 1 indicating image quality\n *                                     if the requested type is 'image/jpeg' or 'image/webp'\n * @returns Promise that resolves with the data URL string\n */\n\n\nfunction imgSrcToDataURL(src, type, crossOrigin, quality) {\n  type = type || 'image/png';\n  return loadImage(src, crossOrigin).then(imgToCanvas).then(function (canvas) {\n    return canvas.toDataURL(type, quality);\n  });\n}\n/**\n * Convert a `canvas` to a `Blob`.\n *\n * Examples:\n *\n * ```js\n * blobUtil.canvasToBlob(canvas).then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * Most browsers support converting a canvas to both `'image/png'` and `'image/jpeg'`. You may\n * also want to try `'image/webp'`, which will work in some browsers like Chrome (and in other browsers, will just fall back to `'image/png'`):\n *\n * ```js\n * blobUtil.canvasToBlob(canvas, 'image/webp').then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param canvas - HTMLCanvasElement\n * @param type - the content type (optional, defaults to 'image/png')\n * @param quality - a number between 0 and 1 indicating image quality\n *                                     if the requested type is 'image/jpeg' or 'image/webp'\n * @returns Promise that resolves with the `Blob`\n */\n\n\nfunction canvasToBlob(canvas, type, quality) {\n  if (typeof canvas.toBlob === 'function') {\n    return new Promise(function (resolve) {\n      canvas.toBlob(resolve, type, quality);\n    });\n  }\n\n  return Promise.resolve(dataURLToBlob(canvas.toDataURL(type, quality)));\n}\n/**\n * Convert an image's `src` URL to a `Blob` by loading the image and painting\n * it to a `canvas`.\n *\n * Note: this will coerce the image to the desired content type, and it\n * will only paint the first frame of an animated GIF.\n *\n * Examples:\n *\n * ```js\n * blobUtil.imgSrcToBlob('http://mysite.com/img.png').then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * ```js\n * blobUtil.imgSrcToBlob('http://some-other-site.com/img.jpg', 'image/jpeg',\n *                          'Anonymous', 1.0).then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param src - image src\n * @param type - the content type (optional, defaults to 'image/png')\n * @param crossOrigin - for CORS-enabled images, set this to\n *                                         'Anonymous' to avoid \"tainted canvas\" errors\n * @param quality - a number between 0 and 1 indicating image quality\n *                                     if the requested type is 'image/jpeg' or 'image/webp'\n * @returns Promise that resolves with the `Blob`\n */\n\n\nfunction imgSrcToBlob(src, type, crossOrigin, quality) {\n  type = type || 'image/png';\n  return loadImage(src, crossOrigin).then(imgToCanvas).then(function (canvas) {\n    return canvasToBlob(canvas, type, quality);\n  });\n}\n/**\n * Convert an `ArrayBuffer` to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.arrayBufferToBlob(arrayBuff, 'audio/mpeg');\n * ```\n *\n * @param buffer\n * @param type - the content type (optional)\n * @returns Blob\n */\n\n\nfunction arrayBufferToBlob(buffer, type) {\n  return createBlob([buffer], type);\n}\n/**\n * Convert a `Blob` to an `ArrayBuffer`.\n *\n * Example:\n *\n * ```js\n * blobUtil.blobToArrayBuffer(blob).then(function (arrayBuff) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the `ArrayBuffer`\n */\n\n\nfunction blobToArrayBuffer(blob) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n\n    reader.onloadend = function () {\n      var result = reader.result || new ArrayBuffer(0);\n      resolve(result);\n    };\n\n    reader.onerror = reject;\n    reader.readAsArrayBuffer(blob);\n  });\n}\n/**\n * Convert an `ArrayBuffer` to a binary string.\n *\n * Example:\n *\n * ```js\n * var myString = blobUtil.arrayBufferToBinaryString(arrayBuff)\n * ```\n *\n * @param buffer - array buffer\n * @returns binary string\n */\n\n\nfunction arrayBufferToBinaryString(buffer) {\n  var binary = '';\n  var bytes = new Uint8Array(buffer);\n  var length = bytes.byteLength;\n  var i = -1;\n\n  while (++i < length) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n\n  return binary;\n}\n/**\n * Convert a binary string to an `ArrayBuffer`.\n *\n * ```js\n * var myBuffer = blobUtil.binaryStringToArrayBuffer(binaryString)\n * ```\n *\n * @param binary - binary string\n * @returns array buffer\n */\n\n\nfunction binaryStringToArrayBuffer(binary) {\n  var length = binary.length;\n  var buf = new ArrayBuffer(length);\n  var arr = new Uint8Array(buf);\n  var i = -1;\n\n  while (++i < length) {\n    arr[i] = binary.charCodeAt(i);\n  }\n\n  return buf;\n}\n\nexport { createBlob, createObjectURL, revokeObjectURL, blobToBinaryString, base64StringToBlob, binaryStringToBlob, blobToBase64String, dataURLToBlob, blobToDataURL, imgSrcToDataURL, canvasToBlob, imgSrcToBlob, arrayBufferToBlob, blobToArrayBuffer, arrayBufferToBinaryString, binaryStringToArrayBuffer };","map":{"version":3,"sources":["C:/Users/kuent/Documents/FinishDipshit/Creative/Ocean-Weather-Visualization/node_modules/blob-util/dist/blob-util.es.js"],"names":["loadImage","src","crossOrigin","Promise","resolve","reject","img","Image","onload","onerror","imgToCanvas","canvas","document","createElement","width","height","context","getContext","drawImage","createBlob","parts","properties","type","Blob","e","name","Builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","builder","i","length","append","getBlob","createObjectURL","blob","URL","webkitURL","revokeObjectURL","url","blobToBinaryString","reader","FileReader","hasBinaryString","readAsBinaryString","onloadend","result","arrayBufferToBinaryString","readAsArrayBuffer","base64StringToBlob","base64","binaryStringToArrayBuffer","atob","binaryStringToBlob","binary","btoa","blobToBase64String","then","dataURLToBlob","dataURL","match","replace","buff","blobToDataURL","base64String","imgSrcToDataURL","quality","toDataURL","canvasToBlob","toBlob","imgSrcToBlob","arrayBufferToBlob","buffer","blobToArrayBuffer","ArrayBuffer","bytes","Uint8Array","byteLength","String","fromCharCode","buf","arr","charCodeAt"],"mappings":"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","sourcesContent":["// TODO: including these in blob-util.ts causes typedoc to generate docs for them,\n// even with --excludePrivate ¯\\_(ツ)_/¯\n/** @private */\nfunction loadImage(src, crossOrigin) {\n    return new Promise(function (resolve, reject) {\n        var img = new Image();\n        if (crossOrigin) {\n            img.crossOrigin = crossOrigin;\n        }\n        img.onload = function () {\n            resolve(img);\n        };\n        img.onerror = reject;\n        img.src = src;\n    });\n}\n/** @private */\nfunction imgToCanvas(img) {\n    var canvas = document.createElement('canvas');\n    canvas.width = img.width;\n    canvas.height = img.height;\n    // copy the image contents to the canvas\n    var context = canvas.getContext('2d');\n    context.drawImage(img, 0, 0, img.width, img.height, 0, 0, img.width, img.height);\n    return canvas;\n}\n\n/* global Promise, Image, Blob, FileReader, atob, btoa,\n   BlobBuilder, MSBlobBuilder, MozBlobBuilder, WebKitBlobBuilder, webkitURL */\n/**\n * Shim for\n * [`new Blob()`](https://developer.mozilla.org/en-US/docs/Web/API/Blob.Blob)\n * to support\n * [older browsers that use the deprecated `BlobBuilder` API](http://caniuse.com/blob).\n *\n * Example:\n *\n * ```js\n * var myBlob = blobUtil.createBlob(['hello world'], {type: 'text/plain'});\n * ```\n *\n * @param parts - content of the Blob\n * @param properties - usually `{type: myContentType}`,\n *                           you can also pass a string for the content type\n * @returns Blob\n */\nfunction createBlob(parts, properties) {\n    parts = parts || [];\n    properties = properties || {};\n    if (typeof properties === 'string') {\n        properties = { type: properties }; // infer content type\n    }\n    try {\n        return new Blob(parts, properties);\n    }\n    catch (e) {\n        if (e.name !== 'TypeError') {\n            throw e;\n        }\n        var Builder = typeof BlobBuilder !== 'undefined'\n            ? BlobBuilder : typeof MSBlobBuilder !== 'undefined'\n            ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined'\n            ? MozBlobBuilder : WebKitBlobBuilder;\n        var builder = new Builder();\n        for (var i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n        }\n        return builder.getBlob(properties.type);\n    }\n}\n/**\n * Shim for\n * [`URL.createObjectURL()`](https://developer.mozilla.org/en-US/docs/Web/API/URL.createObjectURL)\n * to support browsers that only have the prefixed\n * `webkitURL` (e.g. Android <4.4).\n *\n * Example:\n *\n * ```js\n * var myUrl = blobUtil.createObjectURL(blob);\n * ```\n *\n * @param blob\n * @returns url\n */\nfunction createObjectURL(blob) {\n    return (typeof URL !== 'undefined' ? URL : webkitURL).createObjectURL(blob);\n}\n/**\n * Shim for\n * [`URL.revokeObjectURL()`](https://developer.mozilla.org/en-US/docs/Web/API/URL.revokeObjectURL)\n * to support browsers that only have the prefixed\n * `webkitURL` (e.g. Android <4.4).\n *\n * Example:\n *\n * ```js\n * blobUtil.revokeObjectURL(myUrl);\n * ```\n *\n * @param url\n */\nfunction revokeObjectURL(url) {\n    return (typeof URL !== 'undefined' ? URL : webkitURL).revokeObjectURL(url);\n}\n/**\n * Convert a `Blob` to a binary string.\n *\n * Example:\n *\n * ```js\n * blobUtil.blobToBinaryString(blob).then(function (binaryString) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the binary string\n */\nfunction blobToBinaryString(blob) {\n    return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        var hasBinaryString = typeof reader.readAsBinaryString === 'function';\n        reader.onloadend = function () {\n            var result = reader.result || '';\n            if (hasBinaryString) {\n                return resolve(result);\n            }\n            resolve(arrayBufferToBinaryString(result));\n        };\n        reader.onerror = reject;\n        if (hasBinaryString) {\n            reader.readAsBinaryString(blob);\n        }\n        else {\n            reader.readAsArrayBuffer(blob);\n        }\n    });\n}\n/**\n * Convert a base64-encoded string to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.base64StringToBlob(base64String);\n * ```\n * @param base64 - base64-encoded string\n * @param type - the content type (optional)\n * @returns Blob\n */\nfunction base64StringToBlob(base64, type) {\n    var parts = [binaryStringToArrayBuffer(atob(base64))];\n    return type ? createBlob(parts, { type: type }) : createBlob(parts);\n}\n/**\n * Convert a binary string to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.binaryStringToBlob(binaryString);\n * ```\n *\n * @param binary - binary string\n * @param type - the content type (optional)\n * @returns Blob\n */\nfunction binaryStringToBlob(binary, type) {\n    return base64StringToBlob(btoa(binary), type);\n}\n/**\n * Convert a `Blob` to a binary string.\n *\n * Example:\n *\n * ```js\n * blobUtil.blobToBase64String(blob).then(function (base64String) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the binary string\n */\nfunction blobToBase64String(blob) {\n    return blobToBinaryString(blob).then(btoa);\n}\n/**\n * Convert a data URL string\n * (e.g. `'data:image/png;base64,iVBORw0KG...'`)\n * to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.dataURLToBlob(dataURL);\n * ```\n *\n * @param dataURL - dataURL-encoded string\n * @returns Blob\n */\nfunction dataURLToBlob(dataURL) {\n    var type = dataURL.match(/data:([^;]+)/)[1];\n    var base64 = dataURL.replace(/^[^,]+,/, '');\n    var buff = binaryStringToArrayBuffer(atob(base64));\n    return createBlob([buff], { type: type });\n}\n/**\n * Convert a `Blob` to a data URL string\n * (e.g. `'data:image/png;base64,iVBORw0KG...'`).\n *\n * Example:\n *\n * ```js\n * var dataURL = blobUtil.blobToDataURL(blob);\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the data URL string\n */\nfunction blobToDataURL(blob) {\n    return blobToBase64String(blob).then(function (base64String) {\n        return 'data:' + blob.type + ';base64,' + base64String;\n    });\n}\n/**\n * Convert an image's `src` URL to a data URL by loading the image and painting\n * it to a `canvas`.\n *\n * Note: this will coerce the image to the desired content type, and it\n * will only paint the first frame of an animated GIF.\n *\n * Examples:\n *\n * ```js\n * blobUtil.imgSrcToDataURL('http://mysite.com/img.png').then(function (dataURL) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * ```js\n * blobUtil.imgSrcToDataURL('http://some-other-site.com/img.jpg', 'image/jpeg',\n *                          'Anonymous', 1.0).then(function (dataURL) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param src - image src\n * @param type - the content type (optional, defaults to 'image/png')\n * @param crossOrigin - for CORS-enabled images, set this to\n *                                         'Anonymous' to avoid \"tainted canvas\" errors\n * @param quality - a number between 0 and 1 indicating image quality\n *                                     if the requested type is 'image/jpeg' or 'image/webp'\n * @returns Promise that resolves with the data URL string\n */\nfunction imgSrcToDataURL(src, type, crossOrigin, quality) {\n    type = type || 'image/png';\n    return loadImage(src, crossOrigin).then(imgToCanvas).then(function (canvas) {\n        return canvas.toDataURL(type, quality);\n    });\n}\n/**\n * Convert a `canvas` to a `Blob`.\n *\n * Examples:\n *\n * ```js\n * blobUtil.canvasToBlob(canvas).then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * Most browsers support converting a canvas to both `'image/png'` and `'image/jpeg'`. You may\n * also want to try `'image/webp'`, which will work in some browsers like Chrome (and in other browsers, will just fall back to `'image/png'`):\n *\n * ```js\n * blobUtil.canvasToBlob(canvas, 'image/webp').then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param canvas - HTMLCanvasElement\n * @param type - the content type (optional, defaults to 'image/png')\n * @param quality - a number between 0 and 1 indicating image quality\n *                                     if the requested type is 'image/jpeg' or 'image/webp'\n * @returns Promise that resolves with the `Blob`\n */\nfunction canvasToBlob(canvas, type, quality) {\n    if (typeof canvas.toBlob === 'function') {\n        return new Promise(function (resolve) {\n            canvas.toBlob(resolve, type, quality);\n        });\n    }\n    return Promise.resolve(dataURLToBlob(canvas.toDataURL(type, quality)));\n}\n/**\n * Convert an image's `src` URL to a `Blob` by loading the image and painting\n * it to a `canvas`.\n *\n * Note: this will coerce the image to the desired content type, and it\n * will only paint the first frame of an animated GIF.\n *\n * Examples:\n *\n * ```js\n * blobUtil.imgSrcToBlob('http://mysite.com/img.png').then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * ```js\n * blobUtil.imgSrcToBlob('http://some-other-site.com/img.jpg', 'image/jpeg',\n *                          'Anonymous', 1.0).then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param src - image src\n * @param type - the content type (optional, defaults to 'image/png')\n * @param crossOrigin - for CORS-enabled images, set this to\n *                                         'Anonymous' to avoid \"tainted canvas\" errors\n * @param quality - a number between 0 and 1 indicating image quality\n *                                     if the requested type is 'image/jpeg' or 'image/webp'\n * @returns Promise that resolves with the `Blob`\n */\nfunction imgSrcToBlob(src, type, crossOrigin, quality) {\n    type = type || 'image/png';\n    return loadImage(src, crossOrigin).then(imgToCanvas).then(function (canvas) {\n        return canvasToBlob(canvas, type, quality);\n    });\n}\n/**\n * Convert an `ArrayBuffer` to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.arrayBufferToBlob(arrayBuff, 'audio/mpeg');\n * ```\n *\n * @param buffer\n * @param type - the content type (optional)\n * @returns Blob\n */\nfunction arrayBufferToBlob(buffer, type) {\n    return createBlob([buffer], type);\n}\n/**\n * Convert a `Blob` to an `ArrayBuffer`.\n *\n * Example:\n *\n * ```js\n * blobUtil.blobToArrayBuffer(blob).then(function (arrayBuff) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the `ArrayBuffer`\n */\nfunction blobToArrayBuffer(blob) {\n    return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n            var result = reader.result || new ArrayBuffer(0);\n            resolve(result);\n        };\n        reader.onerror = reject;\n        reader.readAsArrayBuffer(blob);\n    });\n}\n/**\n * Convert an `ArrayBuffer` to a binary string.\n *\n * Example:\n *\n * ```js\n * var myString = blobUtil.arrayBufferToBinaryString(arrayBuff)\n * ```\n *\n * @param buffer - array buffer\n * @returns binary string\n */\nfunction arrayBufferToBinaryString(buffer) {\n    var binary = '';\n    var bytes = new Uint8Array(buffer);\n    var length = bytes.byteLength;\n    var i = -1;\n    while (++i < length) {\n        binary += String.fromCharCode(bytes[i]);\n    }\n    return binary;\n}\n/**\n * Convert a binary string to an `ArrayBuffer`.\n *\n * ```js\n * var myBuffer = blobUtil.binaryStringToArrayBuffer(binaryString)\n * ```\n *\n * @param binary - binary string\n * @returns array buffer\n */\nfunction binaryStringToArrayBuffer(binary) {\n    var length = binary.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    var i = -1;\n    while (++i < length) {\n        arr[i] = binary.charCodeAt(i);\n    }\n    return buf;\n}\n\nexport { createBlob, createObjectURL, revokeObjectURL, blobToBinaryString, base64StringToBlob, binaryStringToBlob, blobToBase64String, dataURLToBlob, blobToDataURL, imgSrcToDataURL, canvasToBlob, imgSrcToBlob, arrayBufferToBlob, blobToArrayBuffer, arrayBufferToBinaryString, binaryStringToArrayBuffer };\n"]},"metadata":{},"sourceType":"module"}