{"ast":null,"code":"import { SVD } from 'ml-matrix';\nexport default function getSeparatedKernel(kernel) {\n  const svd = new SVD(kernel, {\n    autoTranspose: true\n  });\n  if (svd.rank !== 1) return null;\n  const s = Math.sqrt(svd.s[0]);\n  const v = svd.U.to2DArray().map(v => v[0] * s);\n  const h = svd.V.to2DArray().map(h => h[0] * s);\n  return [v, h];\n}","map":{"version":3,"sources":["C:/Users/kuent/Documents/FinishDipshit/Creative/Ocean-Weather-Visualization/node_modules/image-js/src/image/operator/getSeparatedKernel.js"],"names":["SVD","getSeparatedKernel","kernel","svd","autoTranspose","rank","s","Math","sqrt","v","U","to2DArray","map","h","V"],"mappings":"AAAA,SAASA,GAAT,QAAoB,WAApB;AAEA,eAAe,SAASC,kBAAT,CAA4BC,MAA5B,EAAoC;AACjD,QAAMC,GAAG,GAAG,IAAIH,GAAJ,CAAQE,MAAR,EAAgB;AAAEE,IAAAA,aAAa,EAAE;AAAjB,GAAhB,CAAZ;AACA,MAAID,GAAG,CAACE,IAAJ,KAAa,CAAjB,EAAoB,OAAO,IAAP;AACpB,QAAMC,CAAC,GAAGC,IAAI,CAACC,IAAL,CAAUL,GAAG,CAACG,CAAJ,CAAM,CAAN,CAAV,CAAV;AACA,QAAMG,CAAC,GAAGN,GAAG,CAACO,CAAJ,CAAMC,SAAN,GAAkBC,GAAlB,CAAuBH,CAAD,IAAOA,CAAC,CAAC,CAAD,CAAD,GAAOH,CAApC,CAAV;AACA,QAAMO,CAAC,GAAGV,GAAG,CAACW,CAAJ,CAAMH,SAAN,GAAkBC,GAAlB,CAAuBC,CAAD,IAAOA,CAAC,CAAC,CAAD,CAAD,GAAOP,CAApC,CAAV;AACA,SAAO,CAACG,CAAD,EAAII,CAAJ,CAAP;AACD","sourcesContent":["import { SVD } from 'ml-matrix';\n\nexport default function getSeparatedKernel(kernel) {\n  const svd = new SVD(kernel, { autoTranspose: true });\n  if (svd.rank !== 1) return null;\n  const s = Math.sqrt(svd.s[0]);\n  const v = svd.U.to2DArray().map((v) => v[0] * s);\n  const h = svd.V.to2DArray().map((h) => h[0] * s);\n  return [v, h];\n}\n"]},"metadata":{},"sourceType":"module"}