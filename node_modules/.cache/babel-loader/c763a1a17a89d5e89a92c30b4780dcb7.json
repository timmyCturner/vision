{"ast":null,"code":"import { validateArrayOfChannels } from '../../util/channel';\nimport { checkNumberArray } from '../../util/value';\n/**\n * @memberof Image\n * @instance\n * @param {*} value\n * @param {object} [options]\n * @return {this}\n */\n\nexport default function multiply(value, options = {}) {\n  let {\n    channels\n  } = options;\n  this.checkProcessable('multiply', {\n    bitDepth: [8, 16]\n  });\n\n  if (value <= 0) {\n    throw new Error('multiply: the value must be greater than 0');\n  }\n\n  channels = validateArrayOfChannels(this, {\n    channels: channels\n  });\n  value = checkNumberArray(value);\n\n  if (!isNaN(value)) {\n    for (let j = 0; j < channels.length; j++) {\n      let c = channels[j];\n\n      for (let i = 0; i < this.data.length; i += this.channels) {\n        this.data[i + c] = Math.min(this.maxValue, this.data[i + c] * value >> 0);\n      }\n    }\n  } else {\n    if (this.data.length !== value.length) {\n      throw new Error('multiply: the data size is different');\n    }\n\n    for (let j = 0; j < channels.length; j++) {\n      let c = channels[j];\n\n      for (let i = 0; i < this.data.length; i += this.channels) {\n        this.data[i + c] = Math.max(0, Math.min(this.maxValue, this.data[i + c] * value[i + c] >> 0));\n      }\n    }\n  }\n\n  return this;\n}","map":{"version":3,"sources":["C:/Users/kuent/Documents/FinishDipshit/Creative/Ocean-Weather-Visualization/node_modules/image-js/src/image/filter/multiply.js"],"names":["validateArrayOfChannels","checkNumberArray","multiply","value","options","channels","checkProcessable","bitDepth","Error","isNaN","j","length","c","i","data","Math","min","maxValue","max"],"mappings":"AAAA,SAASA,uBAAT,QAAwC,oBAAxC;AACA,SAASC,gBAAT,QAAiC,kBAAjC;AAEA;;;;;;;;AAOA,eAAe,SAASC,QAAT,CAAkBC,KAAlB,EAAyBC,OAAO,GAAG,EAAnC,EAAuC;AACpD,MAAI;AAAEC,IAAAA;AAAF,MAAeD,OAAnB;AACA,OAAKE,gBAAL,CAAsB,UAAtB,EAAkC;AAChCC,IAAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,EAAJ;AADsB,GAAlC;;AAGA,MAAIJ,KAAK,IAAI,CAAb,EAAgB;AACd,UAAM,IAAIK,KAAJ,CAAU,4CAAV,CAAN;AACD;;AAEDH,EAAAA,QAAQ,GAAGL,uBAAuB,CAAC,IAAD,EAAO;AAAEK,IAAAA,QAAQ,EAAEA;AAAZ,GAAP,CAAlC;AACAF,EAAAA,KAAK,GAAGF,gBAAgB,CAACE,KAAD,CAAxB;;AAEA,MAAI,CAACM,KAAK,CAACN,KAAD,CAAV,EAAmB;AACjB,SAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,QAAQ,CAACM,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,UAAIE,CAAC,GAAGP,QAAQ,CAACK,CAAD,CAAhB;;AACA,WAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKC,IAAL,CAAUH,MAA9B,EAAsCE,CAAC,IAAI,KAAKR,QAAhD,EAA0D;AACxD,aAAKS,IAAL,CAAUD,CAAC,GAAGD,CAAd,IAAmBG,IAAI,CAACC,GAAL,CACjB,KAAKC,QADY,EAEhB,KAAKH,IAAL,CAAUD,CAAC,GAAGD,CAAd,IAAmBT,KAApB,IAA8B,CAFb,CAAnB;AAID;AACF;AACF,GAVD,MAUO;AACL,QAAI,KAAKW,IAAL,CAAUH,MAAV,KAAqBR,KAAK,CAACQ,MAA/B,EAAuC;AACrC,YAAM,IAAIH,KAAJ,CAAU,sCAAV,CAAN;AACD;;AACD,SAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,QAAQ,CAACM,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,UAAIE,CAAC,GAAGP,QAAQ,CAACK,CAAD,CAAhB;;AACA,WAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKC,IAAL,CAAUH,MAA9B,EAAsCE,CAAC,IAAI,KAAKR,QAAhD,EAA0D;AACxD,aAAKS,IAAL,CAAUD,CAAC,GAAGD,CAAd,IAAmBG,IAAI,CAACG,GAAL,CACjB,CADiB,EAEjBH,IAAI,CAACC,GAAL,CAAS,KAAKC,QAAd,EAAyB,KAAKH,IAAL,CAAUD,CAAC,GAAGD,CAAd,IAAmBT,KAAK,CAACU,CAAC,GAAGD,CAAL,CAAzB,IAAqC,CAA7D,CAFiB,CAAnB;AAID;AACF;AACF;;AAED,SAAO,IAAP;AACD","sourcesContent":["import { validateArrayOfChannels } from '../../util/channel';\nimport { checkNumberArray } from '../../util/value';\n\n/**\n * @memberof Image\n * @instance\n * @param {*} value\n * @param {object} [options]\n * @return {this}\n */\nexport default function multiply(value, options = {}) {\n  let { channels } = options;\n  this.checkProcessable('multiply', {\n    bitDepth: [8, 16],\n  });\n  if (value <= 0) {\n    throw new Error('multiply: the value must be greater than 0');\n  }\n\n  channels = validateArrayOfChannels(this, { channels: channels });\n  value = checkNumberArray(value);\n\n  if (!isNaN(value)) {\n    for (let j = 0; j < channels.length; j++) {\n      let c = channels[j];\n      for (let i = 0; i < this.data.length; i += this.channels) {\n        this.data[i + c] = Math.min(\n          this.maxValue,\n          (this.data[i + c] * value) >> 0,\n        );\n      }\n    }\n  } else {\n    if (this.data.length !== value.length) {\n      throw new Error('multiply: the data size is different');\n    }\n    for (let j = 0; j < channels.length; j++) {\n      let c = channels[j];\n      for (let i = 0; i < this.data.length; i += this.channels) {\n        this.data[i + c] = Math.max(\n          0,\n          Math.min(this.maxValue, (this.data[i + c] * value[i + c]) >> 0),\n        );\n      }\n    }\n  }\n\n  return this;\n}\n"]},"metadata":{},"sourceType":"module"}