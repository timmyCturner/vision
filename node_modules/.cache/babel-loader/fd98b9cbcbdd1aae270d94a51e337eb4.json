{"ast":null,"code":"//var yvalues;\n//var size_index = 0;\nexport let hoveredSunData = {\n  mouseOver: false,\n  value: null\n};\nvar currentY_value = 0;\nlet hoveredSun = null;\nlet sunObject = null;\n\nclass Sun {\n  /**\r\n   * Constructor for bubbles\r\n   *\r\n   * @param {*} p p5 ptr\r\n   */\n  constructor(p) {\n    // class for bubble objects\n    this.x = p.width / 2;\n    this.y = p.height / 2;\n    this.size = currentY_value * 100;\n    /**\r\n     * Display bubble on sketch\r\n     */\n\n    this.display = function (p, currentDate, temperatureData) {\n      //console.log(currentY_value);\n      changeSunColor();\n      p.fill(232, 152, 98);\n      p.ellipse(this.x, this.y, //yvalues[size_index] * 50,\n      //yvalues[size_index] * 50\n      currentY_value * 100);\n\n      if (hoveredSunData.mouseOver) {\n        p.fill(225, 225, 0, 70);\n        p.ellipse(this.x, this.y, currentY_value * 100);\n      }\n    };\n    /**\r\n     * Behavior for bubble movement\r\n     */\n\n\n    this.move = function () {\n      // check if mouse is pressed and within range of bubble\n      //console.log(this.x);\n      if (p.mouseIsPressed && p.dist(p.mouseX, p.mouseY, this.x, this.y) < this.size) {\n        //get the sun above the ocean\n        if (p.mouseY < p.height / 2) {\n          hoveredSunData.mouseOver = true;\n          hoveredSun = this;\n        }\n      }\n    };\n  }\n\n}\n\nexport function setUpSun(p, temperatureData, current_date) {\n  calcSun(temperatureData, current_date);\n  sunObject = new Sun(p);\n}\nexport function drawSun(p, temperatureData, current_date) {\n  calcSun(temperatureData, current_date); //changeY(current_date);\n  //console.log(temperatureData);\n\n  createSun(p, temperatureData);\n}\n\nfunction calcSun(temperatureData, current_date) {\n  if (temperatureData != null) {\n    //get current date based on scroller\n    //get year\n    var currentDate = current_date.getFullYear();\n    /*if (currentDate === 2020) {\r\n        currentDate = 2015;\r\n    }*/\n\n    var index = (currentDate - 1880) * temperatureData.length / 140 - 100;\n    var i = Math.round(index);\n    var average = 0;\n\n    for (var count = 0; count < 100; count++) {\n      average = average + parseFloat(temperatureData[i + count].station);\n    } //console.log(i);\n    // console.log(average);\n\n\n    currentY_value = average / 50 + 2;\n    hoveredSunData.value = currentY_value.toFixed(2) - 2; //yvalues[i] = average + 1;\n\n    /*for (let i = 0; i < temperatureData.length / 8; i++) {\r\n        var average = parseFloat(temperatureData[i * 8].station); // + parseFloat(temperatureData[i * 8].land)) / 2);\r\n        yvalues[i] = average + 1;\r\n    }*/\n  }\n}\n/*function changeY ()  {\r\n    if (size_index === yvalues.length) size_index = 0;\r\n\r\n    size_index += 1;\r\n};*/\n\n\nfunction createSun(p, temperatureData) {\n  if (temperatureData != null) {\n    if (!hoveredSunData.mouseOver) {\n      sunObject.move();\n    } else if (p.mouseY > p.height / 2) {\n      hoveredSunData.mouseOver = false;\n    } else if (p.dist(p.mouseX, p.mouseY, hoveredSun.x, hoveredSun.y) > hoveredSun.size) {\n      hoveredSunData.mouseOver = false;\n    }\n\n    sunObject.display();\n  }\n}\n\nfunction changeSunColor(p, currentDate, startColor, endColor, temperatureData) {\n  var currentYear = currentDate.getFullYear();\n  var index = (currentYear - 1880) * temperatureData.length / 140 - 100;\n  var i = Math.round(index);\n  var average = 0;\n\n  for (var count = 0; count < 100; count++) {\n    average = average + parseFloat(temperatureData[i + count].station);\n  } //console.log(i);\n  //smallest is 0 largest is 115\n\n\n  average = average + 3;\n  var rGap = (startColor.r - endColor.r) / 115;\n  var gGap = (startColor.g - endColor.g) / 115;\n  var bGap = (startColor.b - endColor.b) / 115; // code body moved outside (above) statement block\n\n  var rIndex = startColor.r - (rGap * average | 0);\n  var gIndex = startColor.g - (gGap * average | 0);\n  var bIndex = startColor.b - (bGap * average | 0);\n  return {\n    r: rIndex,\n    g: gIndex,\n    b: bIndex\n  };\n  return endColor;\n}","map":{"version":3,"sources":["C:/Users/kuent/Documents/FinishDipshit/Creative/Ocean-Weather-Visualization/src/sketches/sun.js"],"names":["hoveredSunData","mouseOver","value","currentY_value","hoveredSun","sunObject","Sun","constructor","p","x","width","y","height","size","display","currentDate","temperatureData","changeSunColor","fill","ellipse","move","mouseIsPressed","dist","mouseX","mouseY","setUpSun","current_date","calcSun","drawSun","createSun","getFullYear","index","length","i","Math","round","average","count","parseFloat","station","toFixed","startColor","endColor","currentYear","rGap","r","gGap","g","bGap","b","rIndex","gIndex","bIndex"],"mappings":"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","sourcesContent":["//var yvalues;\r\n//var size_index = 0;\r\nexport let hoveredSunData = { mouseOver: false, value: null };\r\nvar currentY_value = 0;\r\nlet hoveredSun = null;\r\nlet sunObject = null;\r\n\r\nclass Sun {\r\n    /**\r\n     * Constructor for bubbles\r\n     *\r\n     * @param {*} p p5 ptr\r\n     */\r\n    constructor(p) { // class for bubble objects\r\n        this.x = p.width / 2\r\n        this.y = p.height / 2\r\n        this.size = currentY_value * 100\r\n        /**\r\n         * Display bubble on sketch\r\n         */\r\n        this.display = function (p,currentDate,temperatureData) {\r\n          //console.log(currentY_value);\r\n          changeSunColor()\r\n          p.fill(232, 152, 98);\r\n\r\n          p.ellipse(\r\n              this.x,\r\n              this.y,\r\n              //yvalues[size_index] * 50,\r\n              //yvalues[size_index] * 50\r\n\r\n              currentY_value * 100\r\n          );\r\n            if (hoveredSunData.mouseOver) {\r\n                p.fill(225, 225, 0, 70)\r\n                p.ellipse(this.x, this.y, currentY_value*100);\r\n            }\r\n\r\n        };\r\n\r\n        /**\r\n         * Behavior for bubble movement\r\n         */\r\n        this.move = function () {\r\n            // check if mouse is pressed and within range of bubble\r\n            //console.log(this.x);\r\n            if (p.mouseIsPressed && p.dist(p.mouseX, p.mouseY, this.x, this.y) < this.size ) {\r\n              //get the sun above the ocean\r\n              if (p.mouseY<(p.height/2)){\r\n                hoveredSunData.mouseOver = true;\r\n                hoveredSun = this;\r\n              }\r\n\r\n            }\r\n        };\r\n    }\r\n}\r\n\r\nexport function setUpSun(p, temperatureData, current_date) {\r\n\r\n  calcSun(temperatureData, current_date);\r\n  sunObject = new Sun(p)\r\n}\r\n\r\nexport function drawSun(p, temperatureData, current_date) {\r\n    calcSun(temperatureData, current_date);\r\n    //changeY(current_date);\r\n    //console.log(temperatureData);\r\n    createSun(p, temperatureData);\r\n}\r\n\r\nfunction calcSun(temperatureData, current_date) {\r\n    if (temperatureData != null) {\r\n        //get current date based on scroller\r\n        //get year\r\n        var currentDate = current_date.getFullYear();\r\n        /*if (currentDate === 2020) {\r\n            currentDate = 2015;\r\n        }*/\r\n        var index = ((currentDate - 1880) * temperatureData.length) / 140 - 100;\r\n\r\n        var i = Math.round(index);\r\n        var average = 0;\r\n        for (var count = 0; count < 100; count++) {\r\n            average = average + parseFloat(temperatureData[i + count].station);\r\n        }\r\n        //console.log(i);\r\n        // console.log(average);\r\n        currentY_value = average / 50 + 2;\r\n        hoveredSunData.value = currentY_value.toFixed(2) - 2;\r\n        //yvalues[i] = average + 1;\r\n        /*for (let i = 0; i < temperatureData.length / 8; i++) {\r\n            var average = parseFloat(temperatureData[i * 8].station); // + parseFloat(temperatureData[i * 8].land)) / 2);\r\n            yvalues[i] = average + 1;\r\n        }*/\r\n    }\r\n}\r\n\r\n/*function changeY ()  {\r\n    if (size_index === yvalues.length) size_index = 0;\r\n\r\n    size_index += 1;\r\n};*/\r\n\r\nfunction createSun(p, temperatureData) {\r\n    if (temperatureData != null) {\r\n\r\n      if (!hoveredSunData.mouseOver) {\r\n          sunObject.move();\r\n      }\r\n      else if (p.mouseY>(p.height/2)){\r\n        hoveredSunData.mouseOver = false;\r\n\r\n      }\r\n      else if (p.dist(p.mouseX, p.mouseY, hoveredSun.x, hoveredSun.y) > hoveredSun.size) {\r\n          hoveredSunData.mouseOver = false;\r\n      }\r\n        sunObject.display();\r\n\r\n    }\r\n}\r\n\r\nfunction changeSunColor(p, currentDate ,startColor, endColor, temperatureData ) {\r\n\r\n    var currentYear = currentDate.getFullYear();\r\n\r\n    var index = ((currentYear - 1880) * temperatureData.length) / 140 - 100;\r\n\r\n    var i = Math.round(index);\r\n    var average = 0;\r\n    for (var count = 0; count < 100; count++) {\r\n        average = average + parseFloat(temperatureData[i + count].station);\r\n    }\r\n    //console.log(i);\r\n    //smallest is 0 largest is 115\r\n    average = average + 3\r\n\r\n    var rGap = (startColor.r-endColor.r)/ 115;\r\n    var gGap = (startColor.g-endColor.g)/ 115;\r\n    var bGap = (startColor.b-endColor.b)/ 115;\r\n\r\n     // code body moved outside (above) statement block\r\n     var rIndex = startColor.r - ((rGap * average) | 0);\r\n     var gIndex = startColor.g - ((gGap * average) | 0);\r\n     var bIndex = startColor.b - ((bGap * average) | 0);\r\n\r\n     return {r:rIndex, g:gIndex, b:bIndex}\r\n\r\n\r\n    return endColor\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}